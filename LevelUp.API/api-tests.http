# LevelUp API Tests
# Install "REST Client" extension in VS Code to run these tests
# Click "Send Request" above each request to test

@baseUrl = https://localhost:7118/api/v1

###############################################
# 1. AUTHENTICATION
###############################################

### 1.1 Login as Admin (Auto-save token)
# @name adminLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@levelup.com",
  "password": "Admin123!"
}

### 1.2 Login as Manager (Auto-save token)
# @name managerLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "manager@levelup.com",
  "password": "Manager123!"
}

### 1.3 Login as Employee (Auto-save token)
# @name employeeLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "employee@levelup.com",
  "password": "Employee123!"
}

###############################################
# TOKEN VARIABLES (Auto-extracted from login responses)
###############################################

@adminToken = {{adminLogin.response.body.data.token}}
@managerToken = {{managerLogin.response.body.data.token}}
@employeeToken = {{employeeLogin.response.body.data.token}}

### 1.4 Login - Invalid Credentials (Should Fail)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "invalid@example.com",
  "password": "wrongpassword"
}

### 1.5 Change Password (Requires Admin Token)
PUT {{baseUrl}}/auth/change-password
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "currentPassword": "Admin123!",
  "newPassword": "NewAdmin123!"
}

###############################################
# 2. USER MANAGEMENT (Admin Only)
###############################################

### 2.1 Get All Users (Admin)
GET {{baseUrl}}/users
Authorization: Bearer {{adminToken}}

### 2.2 Get All Users with Filters
GET {{baseUrl}}/users?page=1&limit=10&role=Employee&isActive=true
Authorization: Bearer {{adminToken}}

### 2.3 Create New User (Admin)
POST {{baseUrl}}/users
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "firstName": "John",
  "lastName": "Doe",
  "email": "john.doe@example.com",
  "password": "John123456",
  "role": "Admin",
  "positionId": "14eac010-ecae-46a8-acdc-2a47ece8001e"
}

### 2.4 Update User (Admin) - Replace {userId} with actual ID
PUT {{baseUrl}}/users/acc96cb7-dcc6-4742-8299-2b8288fb9a04
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "firstName": "John Updated",
  "lastName": "Doe Updated",
  "email": "john.updated@example.com",
  "password": "NewPassword123",
  "role": "Manager",
  "positionId": "14eac010-ecae-46a8-acdc-2a47ece8001e"
}

### 2.5 Delete User (Admin) - Replace {userId} with actual ID
DELETE {{baseUrl}}/users/acc96cb7-dcc6-4742-8299-2b8288fb9a04
Authorization: Bearer {{adminToken}}

### 2.6 Get Users without Token (Should Fail - 401)
GET {{baseUrl}}/users

### 2.7 Create User as Employee (Should Fail - 403)
POST {{baseUrl}}/users
Content-Type: application/json
Authorization: Bearer {{employeeToken}}

{
  "firstName": "Unauthorized",
  "lastName": "User",
  "email": "unauthorized@example.com",
  "password": "Test123456",
  "role": "Employee",
  "positionId": null
}

###############################################
# 3. POSITION MANAGEMENT (Admin Only)
###############################################

### 3.1 Get All Positions (Admin)
GET {{baseUrl}}/positions
Authorization: Bearer {{adminToken}}

### 3.2 Get Position by ID - Replace {positionId}
GET {{baseUrl}}/positions/14eac010-ecae-46a8-acdc-2a47ece8001e
Authorization: Bearer {{adminToken}}

### 3.3 Create Position (Admin)
POST {{baseUrl}}/positions
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "title": "Software Engineer"
}

### 3.4 Update Position (Admin) - Replace {positionId}
PUT {{baseUrl}}/positions/378ba241-aade-4360-8975-fda473343c7b
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "title": "Lead Software Engineer"
}

### 3.5 Delete Position (Admin) - Replace {positionId}
DELETE {{baseUrl}}/positions/378ba241-aade-4360-8975-fda473343c7b
Authorization: Bearer {{adminToken}}

### 3.6 Get Positions without Token (Should Fail - 401)
GET {{baseUrl}}/positions

### 3.7 Create Position as Manager (Should Fail - 403)
POST {{baseUrl}}/positions
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "Unauthorized Position"
}

###############################################
# 4. MODULE MANAGEMENT (Manager & Employee)
###############################################

### 4.1 Get All Modules (Manager/Employee)
GET {{baseUrl}}/modules
Authorization: Bearer {{managerToken}}

### 4.2 Get All Modules with Pagination
GET {{baseUrl}}/modules?page=1&limit=10&isActive=true
Authorization: Bearer {{managerToken}}

### 4.3 Get Module by ID - Replace {moduleId}
GET {{baseUrl}}/modules/a50ce49f-6a1e-4514-a65b-42a27b7f8700
Authorization: Bearer {{managerToken}}

### 4.4 Create Module (Manager Only)
POST {{baseUrl}}/modules
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": ".NET 8 Advanced Concepts",
  "description": "sebuah desc",
  "estimatedDays": 14,
  "items": [
    {
      "title": "Async/Await Deep Dive",
      "orderIndex": 1,
      "description": "Understanding async programming patterns",
      "url": "",
      "isFinalSubmission": false
    },
    {
      "title": "LINQ and Lambda Expressions",
      "orderIndex": 2,
      "description": "Mastering LINQ queries",
      "url": "https://example.com/resources/linq",
      "isFinalSubmission": false
    },
    {
      "title": "Final Project",
      "orderIndex": 3,
      "description": "Build a complete async application",
      "url": "https://example.com/resources/final-project",
      "isFinalSubmission": true
    }
  ]
}

### 4.5 Update Module - Without Enrollments (Should Succeed)
# Test updating all fields when module has no enrollments
PUT {{baseUrl}}/modules/6fce1a62-138e-4ade-8a91-a450086156c6
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "Advanced C# Programming - Updated",
  "description": "Learn advanced C# concepts with .NET 8",
  "estimatedDays": 21,
  "isActive": true
}

### 4.6 Update Module - With Ongoing Enrollments (Should Fail)
# Test updating fields other than isActive when module has ongoing enrollments
# Expected: 400 Bad Request with message about ongoing enrollments
PUT {{baseUrl}}/modules/61ac00a2-b35a-4784-b83a-61bb1b2471a3
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "React Fundamentals - Updated Title",
  "description": "This update should fail if there are ongoing enrollments"
}

### 4.7 Soft Delete Module - With Ongoing Enrollments (Should Succeed)
# Test deactivating module (isActive = false) when there are ongoing enrollments
# Expected: Success - users can't enroll anymore but existing enrollments continue
PUT {{baseUrl}}/modules/61ac00a2-b35a-4784-b83a-61bb1b2471a3
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "isActive": false
}

### 4.8 Reactivate Module - Without Ongoing Enrollments (Should Succeed)
# Test reactivating module when all enrollments are completed/paused
PUT {{baseUrl}}/modules/61ac00a2-b35a-4784-b83a-61bb1b2471a3
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "isActive": true
}

### 4.9 Update Module - After All Enrollments Completed (Should Succeed)
# Test full update when no ongoing enrollments exist (all completed/paused)
PUT {{baseUrl}}/modules/61ac00a2-b35a-4784-b83a-61bb1b2471a3
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "React Fundamentals - Fully Updated",
  "description": "This should work when all enrollments are completed or paused",
  "estimatedDays": 10,
  "isActive": true
}

### 4.10 Get Modules without Token (Should Fail - 401)
GET {{baseUrl}}/modules

### 4.11 Create Module as Employee (Should Fail - 403)
POST {{baseUrl}}/modules
Content-Type: application/json
Authorization: Bearer {{employeeToken}}

{
  "title": "Unauthorized Module",
  "description": "This should fail",
  "estimatedDays": 7
}

### 4.12 Get Modules as Admin (Should Fail - 403)
GET {{baseUrl}}/modules
Authorization: Bearer {{adminToken}}

### 4.13 Update Module by Non-Creator Manager (Should Fail - 403)
# Test that only the manager who created the module can update it
PUT {{baseUrl}}/modules/61ac00a2-b35a-4784-b83a-61bb1b2471a3
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "This should fail if current manager didn't create this module"
}

###############################################
# 5. MODULE ITEMS MANAGEMENT (Manager Only)
###############################################

### 5.1 Add Module Item - Success (No Ongoing Enrollments)
# Module 3, 6, 7, 8, 9, or 10 have activeCount=0
# Use actual module ID from your database (modules without ongoing enrollments)
POST {{baseUrl}}/modules/97a3945c-c67d-4d96-ae7f-7bff8a8f7041/items
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "New Section - Testing API",
  "orderIndex": 2,
  "descriptions": "Learn how to test APIs with Postman",
  "url": "https://learning.postman.com",
  "isFinalSubmission": false
}

### 5.2 Add Module Item - Fail (Ongoing Enrollments)
# Module 1, 2, 4, or 5 have activeCount>0
# Expected: 400 Bad Request - Cannot add items with ongoing enrollments
POST {{baseUrl}}/modules/REPLACE_WITH_MODULE1_ID/items
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "This Should Fail",
  "orderIndex": 1,
  "descriptions": "Cannot add to module with active enrollments",
  "url": "https://example.com",
  "isFinalSubmission": false
}

### 5.3 Add Module Item - Set as Final Submission
POST {{baseUrl}}/modules/97a3945c-c67d-4d96-ae7f-7bff8a8f7041/items
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "Project Submission 2",
  "orderIndex": 10,
  "descriptions": "Submit your final project",
  "url": "https://github.com",
  "isFinalSubmission": true
}

### 5.4 Add Module Item - Without Optional Fields
POST {{baseUrl}}/modules/97a3945c-c67d-4d96-ae7f-7bff8a8f7041/items
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "Minimal Item",
  "orderIndex": 5,
  "isFinalSubmission": false
}

### 5.5 Update Module Item - Success (No Ongoing Enrollments)
# Replace {moduleId} and {itemId} with actual IDs from module 3, 6, 7, 8, 9, or 10
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/REPLACE_WITH_ITEM_ID
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "Updated Section Title",
  "descriptions": "Updated description with more details",
  "url": "https://updated-url.com",
  "isFinalSubmission": false
}

### 5.6 Update Module Item - Fail (Ongoing Enrollments)
# Replace {moduleId} and {itemId} with actual IDs from module 1, 2, 4, or 5
# Expected: 400 Bad Request - Cannot update items with ongoing enrollments
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE1_ID/items/REPLACE_WITH_MODULE1_ITEM_ID
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "This Update Should Fail",
  "descriptions": "Cannot update module with active enrollments"
}

### 5.7 Update Module Item - Set as Final Submission
# This will unset isFinalSubmission from other items automatically
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/REPLACE_WITH_ITEM_ID
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "New Final Submission",
  "descriptions": "This is now the final submission item",
  "isFinalSubmission": true
}

### 5.8 Update Module Item - Partial Update
# Only update specific fields
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/REPLACE_WITH_ITEM_ID
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "Only Title Updated"
}

### 5.9 Delete Module Item - Success (No Ongoing Enrollments)
# Replace {moduleId} and {itemId} with actual IDs from module 3, 6, 7, 8, 9, or 10
DELETE {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/REPLACE_WITH_ITEM_ID
Authorization: Bearer {{managerToken}}

### 5.10 Delete Module Item - Fail (Ongoing Enrollments)
# Replace {moduleId} and {itemId} with actual IDs from module 1, 2, 4, or 5
# Expected: 400 Bad Request - Cannot delete items with ongoing enrollments
DELETE {{baseUrl}}/modules/REPLACE_WITH_MODULE1_ID/items/REPLACE_WITH_MODULE1_ITEM_ID
Authorization: Bearer {{managerToken}}

### 5.11 Delete Module Item - Auto-assign Final Submission
# If deleting item with isFinalSubmission=true, last item will auto-get it
DELETE {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/REPLACE_WITH_FINAL_ITEM_ID
Authorization: Bearer {{managerToken}}

### 5.12 Reorder Module Items - Success (No Ongoing Enrollments)
# Must include ALL items in the module with sequential orderIndex (1,2,3...)
# Replace {moduleId} and item IDs with actual IDs from module 3, 6, 7, 8, 9, or 10
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/reorder
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "itemOrders": [
    { "itemId": "ITEM_3_ID", "newOrderIndex": 1 },
    { "itemId": "ITEM_1_ID", "newOrderIndex": 2 },
    { "itemId": "ITEM_2_ID", "newOrderIndex": 3 }
  ]
}

### 5.13 Reorder Module Items - Fail (Ongoing Enrollments)
# Replace {moduleId} with actual ID from module 1, 2, 4, or 5
# Expected: 400 Bad Request - Cannot reorder items with ongoing enrollments
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE1_ID/items/reorder
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "itemOrders": [
    { "itemId": "ITEM_1_ID", "newOrderIndex": 1 },
    { "itemId": "ITEM_2_ID", "newOrderIndex": 2 }
  ]
}

### 5.14 Reorder Module Items - Fail (Missing Items)
# Expected: 400 Bad Request - Must include all items
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/reorder
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "itemOrders": [
    { "itemId": "ITEM_1_ID", "newOrderIndex": 1 }
  ]
}

### 5.15 Reorder Module Items - Fail (Non-sequential OrderIndex)
# Expected: 400 Bad Request - OrderIndex must be sequential (1,2,3...)
PUT {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items/reorder
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "itemOrders": [
    { "itemId": "ITEM_1_ID", "newOrderIndex": 1 },
    { "itemId": "ITEM_2_ID", "newOrderIndex": 5 },
    { "itemId": "ITEM_3_ID", "newOrderIndex": 10 }
  ]
}

### 5.16 Add Module Item as Employee (Should Fail - 403)
POST {{baseUrl}}/modules/REPLACE_WITH_MODULE3_ID/items
Content-Type: application/json
Authorization: Bearer {{employeeToken}}

{
  "title": "Unauthorized Item",
  "orderIndex": 1,
  "isFinalSubmission": false
}

### 5.17 Update Module Item by Non-Creator (Should Fail - 403)
# Only module creator can update items
PUT {{baseUrl}}/modules/REPLACE_WITH_OTHER_MANAGER_MODULE_ID/items/REPLACE_WITH_ITEM_ID
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "title": "This should fail if you didn't create this module"
}

###############################################
# 6. ENROLLMENT MANAGEMENT (Employee)
###############################################

### 6.1 Get All Enrollments (Employee)
GET {{baseUrl}}/enrollments
Authorization: Bearer {{managerToken}}

### 6.2 Get Current Enrollment (Employee)
GET {{baseUrl}}/enrollments/current
Authorization: Bearer {{employeeToken}}

### 6.3 Get Enrollment History (Employee)
GET {{baseUrl}}/enrollments/history
Authorization: Bearer {{employeeToken}}

### 6.4 Create Enrollment (Employee) - Replace {moduleId}
POST {{baseUrl}}/enrollments
Content-Type: application/json
Authorization: Bearer {{employeeToken}}

{
  "moduleId": "770e8400-e29b-41d4-a716-446655440000"
}

### 6.5 Resume Enrollment (Employee) - Replace {enrollmentId}
POST {{baseUrl}}/enrollments/990e8400-e29b-41d4-a716-446655440000/resume
Authorization: Bearer {{employeeToken}}

### 6.6 Get Enrollment Progress - Replace {enrollmentId}
GET {{baseUrl}}/enrollments/990e8400-e29b-41d4-a716-446655440000/progress
Authorization: Bearer {{employeeToken}}

### 6.7 Mark Item as Completed - Replace {enrollmentId}
POST {{baseUrl}}/enrollments/990e8400-e29b-41d4-a716-446655440000/items
Content-Type: application/json
Authorization: Bearer {{employeeToken}}

{
  "moduleItemId": "880e8400-e29b-41d4-a716-446655440000",
  "feedback": "Successfully completed the async programming exercise",
  "evidenceUrl": "https://github.com/user/async-project"
}

### 6.8 Submit Final Work - Replace {enrollmentId}
POST {{baseUrl}}/enrollments/990e8400-e29b-41d4-a716-446655440000/submit
Content-Type: application/json
Authorization: Bearer {{employeeToken}}

{
  "submissionUrl": "https://github.com/user/final-project",
  "notes": "Project completed with all requirements met"
}

###############################################
# 7. SUBMISSION MANAGEMENT (Manager)
###############################################

### 7.1 Get All Submissions (Manager)
GET {{baseUrl}}/submissions
Authorization: Bearer {{managerToken}}

### 7.2 Get Submissions with Filter
GET {{baseUrl}}/submissions?page=1&limit=10&status=Pending
Authorization: Bearer {{managerToken}}

### 7.3 Review Submission - Replace {submissionId}
POST {{baseUrl}}/submissions/bb0e8400-e29b-41d4-a716-446655440000/review
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "status": "Approved",
  "feedback": "Excellent work! All requirements met and code quality is outstanding."
}

### 7.4 Reject Submission - Replace {submissionId}
POST {{baseUrl}}/submissions/bb0e8400-e29b-41d4-a716-446655440000/review
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "status": "Rejected",
  "feedback": "Please review the async/await implementation. There are some issues with error handling."
}

###############################################
# 8. MANAGER DASHBOARD (Manager)
###############################################

### 8.1 Get Dashboard Summary - Success (Manager)
# Returns dashboard statistics including total employees, idle count, enrollments, etc.
GET {{baseUrl}}/dashboard/manager/dashboard
Authorization: Bearer {{managerToken}}

### 8.2 Get Dashboard Summary as Employee (Should Fail - 403)
# Expected: 403 Forbidden - Only managers can access dashboard
GET {{baseUrl}}/dashboard/manager/dashboard
Authorization: Bearer {{employeeToken}}

### 8.3 Get Dashboard Summary as Admin (Should Fail - 403)
# Expected: 403 Forbidden - Only managers role allowed
GET {{baseUrl}}/dashboard/manager/dashboard
Authorization: Bearer {{adminToken}}

### 8.4 Get Dashboard Summary without Token (Should Fail - 401)
GET {{baseUrl}}/dashboard/manager/dashboard

### 8.5 Get All Employees List - Success (Manager)
# Returns list of all employees with their enrollment information
GET {{baseUrl}}/dashboard/manager/employees
Authorization: Bearer {{managerToken}}

### 8.6 Get All Employees as Employee (Should Fail - 403)
GET {{baseUrl}}/dashboard/manager/employees
Authorization: Bearer {{employeeToken}}

### 8.7 Get Employee Detail - Success (Manager)
# Replace {employeeId} with actual employee ID from your database
# Returns detailed info: personal data, current enrollment, progress, history
GET {{baseUrl}}/dashboard/manager/employees/REPLACE_WITH_EMPLOYEE_ID/detail
Authorization: Bearer {{managerToken}}

### 8.8 Get Employee Detail - Non-existent Employee (Should Fail - 404)
# Expected: 404 Not Found - Employee doesn't exist
GET {{baseUrl}}/dashboard/manager/employees/00000000-0000-0000-0000-000000000000/detail
Authorization: Bearer {{managerToken}}

### 8.9 Get Employee Detail as Employee (Should Fail - 403)
GET {{baseUrl}}/dashboard/manager/employees/REPLACE_WITH_EMPLOYEE_ID/detail
Authorization: Bearer {{employeeToken}}

### 8.10 Update Employee Status to Idle - Success (Manager)
# Replace {employeeId} with actual employee ID
# Sets employee as idle (available for new enrollment)
PATCH {{baseUrl}}/dashboard/employee/REPLACE_WITH_EMPLOYEE_ID/status
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "isIdle": true
}

### 8.11 Update Employee Status to Active - Success (Manager)
# Sets employee as active (currently working on tasks)
PATCH {{baseUrl}}/dashboard/employee/REPLACE_WITH_EMPLOYEE_ID/status
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "isIdle": false
}

### 8.12 Update Employee Status - Non-existent Employee (Should Fail - 400)
# Expected: 400 Bad Request - Employee not found
PATCH {{baseUrl}}/dashboard/employee/00000000-0000-0000-0000-000000000000/status
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
  "isIdle": true
}

### 8.13 Update Employee Status as Employee (Should Fail - 403)
PATCH {{baseUrl}}/dashboard/employee/REPLACE_WITH_EMPLOYEE_ID/status
Content-Type: application/json
Authorization: Bearer {{employeeToken}}

{
  "isIdle": true
}

### 8.14 Update Employee Status - Missing Required Field (Should Fail - 400)
# Expected: 400 Bad Request - isIdle field required
PATCH {{baseUrl}}/dashboard/employee/REPLACE_WITH_EMPLOYEE_ID/status
Content-Type: application/json
Authorization: Bearer {{managerToken}}

{
}

### 8.15 Get Manager's Enrollments - Success (Manager)
# Returns all enrollments for employees under this manager
GET {{baseUrl}}/dashboard/manager/enrollments
Authorization: Bearer {{managerToken}}

### 8.16 Get Manager's Enrollments as Employee (Should Fail - 403)
GET {{baseUrl}}/dashboard/manager/enrollments
Authorization: Bearer {{employeeToken}}

### 8.17 Get Manager's Enrollments without Token (Should Fail - 401)
GET {{baseUrl}}/dashboard/manager/enrollments

###############################################
# 9. ERROR SCENARIOS
###############################################

### 9.1 Invalid Endpoint (404)
GET {{baseUrl}}/invalid-endpoint
Authorization: Bearer {{adminToken}}

### 9.2 Malformed JSON (400)
POST {{baseUrl}}/users
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "firstName": "Test",
  "lastName": "User",
  "email": "invalid-email",
  "password": "short",
  "role": "InvalidRole"
}

### 9.3 Missing Required Fields (400)
POST {{baseUrl}}/users
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "firstName": "Test"
}

### 9.4 Duplicate Email (409)
POST {{baseUrl}}/users
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "firstName": "Admin",
  "lastName": "User",
  "email": "admin@levelup.com",
  "password": "Admin123456",
  "role": "Admin",
  "positionId": null
}

### 9.5 Non-existent Resource (404)
GET {{baseUrl}}/users/00000000-0000-0000-0000-000000000000
Authorization: Bearer {{adminToken}}

###############################################
# USAGE INSTRUCTIONS:
# 1. Login with appropriate role (1.1, 1.2, or 1.3)
# 2. Token akan tersimpan OTOMATIS ke variabel:
#    - @adminToken dari adminLogin
#    - @managerToken dari managerLogin  
#    - @employeeToken dari employeeLogin
# 3. Semua request setelah login akan menggunakan token yang sesuai
# 4. Replace UUIDs dengan actual IDs dari database Anda
# 5. Test endpoints sesuai user roles yang sudah didefinisikan
###############################################
